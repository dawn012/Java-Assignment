CREATE TABLE `cinema` (
  `cinema_id` int(11) AUTO_INCREMENT NOT NULL,
  `cinema_name` varchar(30) NOT NULL,
  `cinema_address` varchar(80) NOT NULL,
  `cinema_phone` varchar(20) NOT NULL,
  `cinema_status` int(1) NOT NULL DEFAULT 1,
  PRIMARY KEY(cinema_id),
  CONSTRAINT CHK_CINEMA_STATUS CHECK (CINEMA_STATUS IN (0, 1))
);

INSERT INTO `cinema` (`cinema_id`, `cinema_name`, `cinema_address`, `cinema_phone`, `cinema_status`) VALUES
(1, 'GRC Johor Bahru', '108, JALAN WONG FOOK, 10050 GEORGE TOWN, PENANG', '08-98765432', 1),
(2, 'GRC Penang', '27, JALAN BATU 2, 64000 KUALA LUMPUR, SELANGOR', '08-98965432', 1);


CREATE TABLE `hall` (
  `hall_id` int(11) AUTO_INCREMENT NOT NULL,
  `cinema_id` int(11) NOT NULL,
  `hall_name` varchar(255) NOT NULL,
  `hall_type` char(8) NOT NULL,
  `hall_capacity` int(3) NOT NULL,
  `hall_status` int(1) NOT NULL DEFAULT 1,
  PRIMARY KEY(hall_id),
  FOREIGN KEY(cinema_id) REFERENCES cinema(cinema_id),
  CONSTRAINT CHK_TYPE CHECK (UPPER(HALL_TYPE) IN ('3D', 'STANDARD')),
  CONSTRAINT CHK_HALL_STATUS CHECK (HALL_STATUS IN (0, 1))
);

INSERT INTO `hall` (`hall_id`, `cinema_id`, `hall_name`, `hall_type`, `hall_capacity`, `hall_status`) VALUES
(1, 1, 'Hall 1', 'STANDARD', 64, 1),
(2, 1, 'Hall 2', 'STANDARD', 64, 1),
(3, 1, 'Hall 3', 'STANDARD', 64, 1),
(4, 2, 'Queen', '3D', 32, 1),
(5, 2, 'Queen Bey', 'STANDARD', 64, 1);


CREATE TABLE `genre` (
  `genre_id` int(11) AUTO_INCREMENT NOT NULL,
  `genre_name` varchar(255) NOT NULL,
  `post` int(11) NOT NULL,
  `genre_status` int(1) NOT NULL DEFAULT 1,
  PRIMARY KEY(genre_id),
  CONSTRAINT CHK_GENRE_STATUS CHECK (GENRE_STATUS IN (0, 1))
);

INSERT INTO `genre` (`genre_id`, `genre_name`, `post`, `genre_status`) VALUES
(1, 'Action', 0, 1),
(2, 'Adventure', 0, 1),
(3, 'Animation', 0, 1),
(4, 'Comedy', 0, 1),
(5, 'Crime', 0, 1),
(6, 'Drama', 0, 1),
(7, 'Documentary', 0, 1),
(8, 'Family', 0, 1);


CREATE TABLE `movie` (
  `movie_id` int(255) AUTO_INCREMENT NOT NULL,
  `genre_id` int(255) NOT NULL,
  `mv_name` varchar(255) NOT NULL,
  `release_date` date NOT NULL,
  `duration` int NOT NULL,
  `lang` varchar(255) NOT NULL,
  `director` varchar(255) NOT NULL,
  `writter` varchar(255) NOT NULL,
  `starring` varchar(255) NOT NULL,
  `music` varchar(255) NOT NULL,
  `country` varchar(255) NOT NULL,
  `meta_description` varchar(500) NOT NULL,
  `basic_TicketPrice` double(5,2) NOT NULL,
  `movie_status` int(1) NOT NULL DEFAULT 1,
  PRIMARY KEY(movie_id),
  FOREIGN KEY(genre_id) REFERENCES genre(genre_id),
  CONSTRAINT CHK_MOVIE_STATUS CHECK (MOVIE_STATUS IN (0, 1))
);

INSERT INTO `movie` (`movie_id`, `genre_id`, `mv_name`, `release_date`, `duration`, `lang`, `director`, `writter`, `starring`, `music`, `country`, `meta_description`, `basic_TicketPrice`, `movie_status`) VALUES
(1, 3, 'Suzume', '2023-03-09', '80', 'Japanese', 'Makoto Shinkai', 'Makoto Shinkai', 'Nanoka Hara, Hokuto Matsumura', 'Radwimps, Kazuma Jinnouchi', 'Japan', 'Seventeen-year-old Suzume discovers a mysterious door in the mountains, and soon other doors begin appearing across Japan. As the doors open, they release disasters and destruction, and it’s up to Suzume to close them again.', 13.00, 1),
(2, 3, 'Your Name', '2023-03-22', '107', 'Japanese', 'Makoto Shinkai', 'Makoto Shinkai', 'Ryunosuke Kamiki, Mone Kamishiraishi', 'Radwimps', 'Japan', 'Two teenagers share a profound, magical connection upon discovering they are swapping bodies. Things manage to become even more complicated when the boy and girl decide to meet in person.', 15.00, 1),
(3, 3, 'Spirited Away', '2023-06-13', '125', 'Japanese', 'Hayao Miyazaki', 'Hayao Miyazaki', 'Rumi Hiiragi, Miyu Irino', 'Joe Hisaishi', 'Japan', 'In this animated feature by noted Japanese director Hayao Miyazaki, 10-year-old Chihiro (Rumi Hiiragi) and her parents (Takashi Naitô, Yasuko Sawaguchi) stumble upon a seemingly abandoned amusement park. After her mother and father are turned into giant pigs, Chihiro meets the mysterious Haku (Miyu Irino), who explains that the park is a resort for supernatural beings who need a break from their time spent in the earthly realm, and that she must work there to free herself and her parents.', 13.00, 1),
(4, 3, 'Violet Evergarder', '2023-04-22', '140', 'Japanese', 'Taichi Ishidate', 'Reiko Yoshida', 'Yui Ishikawa, Daisuke Namikawa', 'Evan Call', 'Japan', 'After the aftermath of a war, a young girl who was used as a tool for war learns to properly live. With the scars of burns, she goes back to her past to discover her true feelings towards the Major.', 13.00, 1),
(5, 3, 'Demon Slayer', '2023-02-03', '110', 'Japanese', 'Haruo Sotozaki', 'Ufotable', 'Natsuki Hanae, Akari Kitō', 'Yuki Kajiura, Go Shiina', 'Japan', 'As Tanjiro Kamado, Zenitsu Agatsuma, and Inosuke Hashibira assist the Sound Hashira Tengen Uzui against the sibling demons Gyutaro and Daki, holders of Upper Six of the Twelve Kizuki, they realize that the only way to kill the siblings is to behead them simultaneously.', 13.00, 1),
(6, 6, 'Venom', '2021-09-14', '97', 'English', 'Andy Serkis', 'Tom Hardy, Kelly Marcel', 'Tom Hardy, Michelle Williams', 'Marco Beltrami', 'United States', 'Eddie Brock attempts to reignite his career by interviewing serial killer Cletus Kasady, who becomes the host of the symbiote Carnage and escapes prison after a failed execution.', 13.00, 1),
(7, 3, 'Weathering with You', '2023-03-17', '112', 'Japanese', 'Makoto Shinkai', 'Makoto Shinkai', 'Kotaro Daigo, Nana Mori', 'Radwimps', 'Japan', 'Set during a period of exceptionally rainy weather, high-school boy Hodaka Morishima runs away from his troubled rural home to Tokyo and befriends an orphan girl who can manipulate the weather.', 13.00, 1),
(8, 3, 'The Tunnel To Summer', '2023-02-27', '83', 'Japanese', 'Tomohisa Taguchi', 'Tomohisa Taguchi', 'Marie Iitoyo, Oji Suzuka', 'Harumi Fuuki', 'Japan', 'One summer morning before school, Kaoru hears an unsettling rumor—of a mysterious tunnel that can grant any wish to those who enter it, but ages them dramatically in exchange. At first, he writes it off as nothing more than an urban legend, but that very night, he happens upon the selfsame passage: the Urashima Tunnel.', 13.00, 1),
(9, 3, 'Anthem of the Heart', '2023-04-01', '119', 'Japanese', 'Tatsuyuki Nagai', 'Tatsuyuki Nagai', 'Inori Minase, Kōki Uchiyama', 'Mito, Masaru Yokoyama', 'Japan', 'A girl who carries the guilt of breaking up her family with carelessly uttered words when she was young is suddenly cursed by a mysterious Egg Fairy so that she can never hurt anybody with her words again.', 13.00, 1),
(10, 3, 'A Silent Voice', '2023-10-26', '130', 'Japanese', 'Naoko Yamada', 'Yoshitoki Ōima', 'Miyu Irino, Saori Hayami', 'Kensuke Ushio', 'Japan', 'When a grade school student with impaired hearing is bullied mercilessly, she transfers to another school. Years later, one of her former tormentors sets out to make amends.', 13.00, 1);

CREATE TABLE `timeTable` (
  `schedule_id` int(255) AUTO_INCREMENT NOT NULL,
  `hall_id` int(11) NOT NULL,
  `movie_id` int(11) NOT NULL,
  `movie_showDate` Date NOT NULL,
  `movie_startTime` Time NOT NULL,
  `movie_endTime` Time NOT NULL,
  `timeTable_status` int(1) NOT NULL DEFAULT 1,
  PRIMARY KEY(schedule_id),
  FOREIGN KEY(hall_id) REFERENCES hall(hall_id),
  FOREIGN KEY(movie_id) REFERENCES movie(movie_id),
  CONSTRAINT CHK_TIMETABLE_STATUS CHECK (TIMETABLE_STATUS IN (0, 1))
);

INSERT INTO `timeTable` (`schedule_id`, `hall_id`, `movie_id`, `movie_showDate`, `movie_startTime`, `movie_endTime`, `timeTable_status`) VALUES
(1, 2, 7, '2023-03-17', '11:00:00', '12:55:00', 1),
(2, 3, 2, '2023-03-22', '11:00:00', '12:50:00', 1),
(3, 1, 4, '2023-04-22', '11:00:00', '13:20:00', 1),
(4, 3, 9, '2023-06-13', '13:00:00', '15:00:00', 1),
(5, 1, 6, '2021-09-14', '13:00:00', '14:40:00', 1),
(6, 2, 9, '2023-06-15', '17:00:00', '19:00:00', 1),
(7, 3, 2, '2023-03-25', '17:00:00', '18:50:00', 1),
(8, 1, 3, '2023-06-17', '12:55:00', '15:00:00', 1),
(9, 2, 8, '2023-03-03', '13:30:00', '14:25:00', 1),
(10, 3, 4, '2023-04-25', '13:30:00', '15:50:00', 1),
(11, 1, 2, '2023-03-25', '11:00:00', '12:50:00', 1),
(12, 1, 3, '2023-06-17', '17:05:00', '19:30:00', 1),
(13, 1, 5, '2023-02-07', '17:10:00', '19:00:00', 1),
(14, 2, 1, '2023-03-15', '17:00:00', '18:20:00', 1),
(15, 3, 10, '2023-10-29', '13:00:00', '15:10:00', 1),
(16, 2, 8, '2023-10-17', '13:30:00', '14:25:00', 1),
(17, 3, 10, '2023-10-30', '11:00:00', '13:10:00', 1),
(18, 2, 10, '2023-09-02', '11:00:00', '13:10:00', 1),
(19, 5, 10, '2023-12-05', '15:15:00', '17:25:00', 1),
(20, 5, 10, '2023-09-11', '13:15:00', '15:25:00', 1),
(21, 5, 10, '2023-09-12', '13:15:00', '15:25:00', 1),
(22, 5, 10, '2023-09-14', '13:15:00', '15:25:00', 1);